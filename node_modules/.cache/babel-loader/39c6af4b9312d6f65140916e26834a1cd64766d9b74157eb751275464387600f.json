{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _class;\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { BaseHttpService } from './http-base';\nconst PAIRING_URL = 'https://dev-sign-provider.miraiid.io';\nclass MiraiIDAPI extends BaseHttpService {\n  constructor() {\n    super(PAIRING_URL);\n  }\n  async getPairingUri(accessToken) {\n    return this.sendGet('api/provider', {}, {\n      'Authorization': \"Bearer \".concat(accessToken)\n    });\n  }\n  async sendRequest(wcTopicId, requestDTO) {\n    return this.sendGet(\"api/provider/send-request/\".concat(wcTopicId), _objectSpread({}, requestDTO));\n  }\n}\n_class = MiraiIDAPI;\n_defineProperty(MiraiIDAPI, \"INSTANCE\", new _class());\nexport { MiraiIDAPI };","map":{"version":3,"names":["BaseHttpService","PAIRING_URL","MiraiIDAPI","constructor","getPairingUri","accessToken","sendGet","concat","sendRequest","wcTopicId","requestDTO","_objectSpread","_class","_defineProperty"],"sources":["/Users/phuocnd/phuocnd/works/mirai/miraiidjs/src/sign-provider/transports/http/http-miraiid.ts"],"sourcesContent":["import { SendRequestDTO } from '../request.dtos/SendRequestDTO';\nimport { BaseHttpService } from './http-base';\n\nconst PAIRING_URL: string = 'https://dev-sign-provider.miraiid.io';\n\nclass MiraiIDAPI extends BaseHttpService {\n\tpublic static readonly INSTANCE = new MiraiIDAPI();\n\n\tprivate constructor() {\n\t\tsuper(PAIRING_URL);\n\t}\n\n\tasync getPairingUri(accessToken: string): Promise<string> {\n\t\treturn this.sendGet<string>('api/provider', {}, { 'Authorization': `Bearer ${accessToken}` });\n\t}\n\n\tasync sendRequest<T>(wcTopicId: string, requestDTO: SendRequestDTO): Promise<T> {\n\t\treturn this.sendGet<string>(`api/provider/send-request/${wcTopicId}`, {\n\t\t\t...requestDTO,\n\t\t}) as T;\n\t}\n}\n\nexport { MiraiIDAPI };\n"],"mappings":";;;;AACA,SAASA,eAAe,QAAQ,aAAa;AAE7C,MAAMC,WAAmB,GAAG,sCAAsC;AAElE,MAAMC,UAAU,SAASF,eAAe,CAAC;EAGhCG,WAAWA,CAAA,EAAG;IACrB,KAAK,CAACF,WAAW,CAAC;EACnB;EAEA,MAAMG,aAAaA,CAACC,WAAmB,EAAmB;IACzD,OAAO,IAAI,CAACC,OAAO,CAAS,cAAc,EAAE,CAAC,CAAC,EAAE;MAAE,eAAe,YAAAC,MAAA,CAAYF,WAAW;IAAG,CAAC,CAAC;EAC9F;EAEA,MAAMG,WAAWA,CAAIC,SAAiB,EAAEC,UAA0B,EAAc;IAC/E,OAAO,IAAI,CAACJ,OAAO,8BAAAC,MAAA,CAAsCE,SAAS,GAAAE,aAAA,KAC9DD,UAAU,CACb,CAAC;EACH;AACD;AAACE,MAAA,GAhBKV,UAAU;AAAAW,eAAA,CAAVX,UAAU,cACmB,IAAIA,MAAU,CAAC,CAAC;AAiBnD,SAASA,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}