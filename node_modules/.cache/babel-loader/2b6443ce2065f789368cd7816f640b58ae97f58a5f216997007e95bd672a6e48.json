{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport { AuthToken } from '../../../auth-client';\nexport class BaseWebSocketService {\n  constructor() {\n    _defineProperty(this, \"getHeaders\", async () => {\n      const authHeaders = {};\n      const token = await AuthToken.get();\n      if (token) {\n        authHeaders.Authorization = \"Bearer \".concat(token.access_token);\n      }\n      return authHeaders;\n    });\n  }\n}","map":{"version":3,"names":["AuthToken","BaseWebSocketService","constructor","_defineProperty","authHeaders","token","get","Authorization","concat","access_token"],"sources":["/Users/phuocnd/phuocnd/works/mirai/miraiidjs/src/sign-provider/transports/websocket/ws-base.ts"],"sourcesContent":["import { AuthToken } from '../../../auth-client';\nimport { WebSocketConnection } from './connection-wrapper';\n\nexport abstract class BaseWebSocketService {\n\tprotected getHeaders = async () => {\n\t\tconst authHeaders: Record<string, string> = {};\n\n\t\tconst token = await AuthToken.get();\n\t\tif (token) {\n\t\t\tauthHeaders.Authorization = `Bearer ${token.access_token}`;\n\t\t}\n\n\t\treturn authHeaders;\n\t};\n\n\tpublic abstract establish(): Promise<WebSocketConnection>;\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,sBAAsB;AAGhD,OAAO,MAAeC,oBAAoB,CAAC;EAAAC,YAAA;IAAAC,eAAA,qBACnB,YAAY;MAClC,MAAMC,WAAmC,GAAG,CAAC,CAAC;MAE9C,MAAMC,KAAK,GAAG,MAAML,SAAS,CAACM,GAAG,CAAC,CAAC;MACnC,IAAID,KAAK,EAAE;QACVD,WAAW,CAACG,aAAa,aAAAC,MAAA,CAAaH,KAAK,CAACI,YAAY,CAAE;MAC3D;MAEA,OAAOL,WAAW;IACnB,CAAC;EAAA;AAGF"},"metadata":{},"sourceType":"module","externalDependencies":[]}