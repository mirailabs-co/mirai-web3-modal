/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const t=Promise.resolve();class s{constructor(t,s){this.o=[],this.t=!0,this.l=!1,this.i=t,this.u=s,this.h=new Promise(((t,s)=>{this.v=t}))}addController(t){this.o.push(t)}removeController(t){var s;null===(s=this.o)||void 0===s||s.splice(this.o.indexOf(t)>>>0,1)}requestUpdate(){this.t||(this.t=!0,t.then((()=>this.u(++this.i))))}get updateComplete(){return this.h}p(){this.l=!0,this.o.forEach((t=>{var s;return null===(s=t.hostConnected)||void 0===s?void 0:s.call(t)}))}m(){this.l=!1,this.o.forEach((t=>{var s;return null===(s=t.hostDisconnected)||void 0===s?void 0:s.call(t)}))}_(){this.o.forEach((t=>{var s;return null===(s=t.hostUpdate)||void 0===s?void 0:s.call(t)}))}C(){this.t=!1;const t=this.v;this.h=new Promise(((t,s)=>{this.v=t})),this.o.forEach((t=>{var s;return null===(s=t.hostUpdated)||void 0===s?void 0:s.call(t)})),t(this.t)}}const i=(i,e)=>{const{useState:r,useLayoutEffect:o}=i,[n,h]=r(0);let u=!1;const[d]=r((()=>{const i=new s(n,h),r=e(i);return i.j=r,i.p(),u=!0,t.then((()=>{u&&i.m()})),i}));return d.t=!0,o((()=>(u=!1,d.l||d.p(),()=>d.m())),[]),o((()=>d.C())),d._(),d.j};export{i as useController};
//# sourceMappingURL=use-controller.js.map
